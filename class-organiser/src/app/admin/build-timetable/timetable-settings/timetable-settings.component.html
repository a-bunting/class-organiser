<div class="ttsettings">
  <div class="ttsettings__title">Settings</div>

  <div class="ttsettings__select">
    <div class="ttsettings__text">Timetable</div>
    <div class="ttsettings__timetable">
      <select class="input__select input__length--long" (change)="selectTimetable($event)">
        <option value="" disabled selected>Select Timetable</option>
        <option value="{{ timetable.id }}" *ngFor="let timetable of timetables">{{ timetable.name }}</option>
      </select>
    </div>
  </div>

  <div class="ttsettings__select" *ngIf="loadedTimetable">
    <div class="ttsettings__text">Courses</div>

    <table class="ttsettings__courses">
      <tr>
        <th>Name</th>
        <th>Required</th>
        <th>Times</th>
        <th>Max Class Size</th>
        <th>Delete</th>
      </tr>
      <tr *ngFor="let course of loadedTimetable.courses">
        <td><input type="text" class="input__text input__length--medium" [(ngModel)]="course.name" placeholder="Name of Course" (blur)="editCourse(true)" (keyup)="editCourse(false, $event)"></td>
        <td><input type="checkbox" [(ngModel)]="course.requirement.required"></td>
        <td><input type="text" class="input__text input__length--short" [(ngModel)]="course.requirement.times"></td>
        <td><input type="text" class="input__text input__length--short" [(ngModel)]="course.classSize"></td>
        <td><button class="input__button input__length--veryshort" (click)="deleteCourse(course.id)">X</button></td>
      </tr>
    </table>

    <div class="ttsettings__courses--buttons">
      <button class="input__button" (click)="addCourse()">Add Course</button>
    </div>

    <div class="ttsettings__courses--info">
      <div class="ttsettings__currentCourses">You currently have students taking {{ calculateBlocksRequired() }} / {{ loadedTimetable.schedule.blocks.length }} blocks.</div>
    </div>
  </div>

  <div class="ttsettings__select ttsettings__buttons">
    <button class="input__button input__length--medium" (click)="saveTimetable()">Save</button>
    <button class="input__button input__length--medium" (click)="runTimetable()">{{ !selectionData ? 'Run' : 'Rerun' }}</button>
    <button class="input__button input__length--medium" (click)="showOptions()" *ngIf="selectionData">Options</button>
  </div>
</div>
